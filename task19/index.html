<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>模拟队列-排序</title>
  <style type="text/css">
    .array{
      width: 100%;
      height: 600px;
      display: flex;
      align-items: flex-end;
    }
    .array div{
      padding:2px;
      background-color:red;
      float: left;
      margin:3px;
      width: 15px;
      font-size: 10px;

    }
  </style>
</head>
<body>
  <div class="wrap">
    <input type="text" name="num">
    <button id="leftin">左侧入</button>
    <button id="rightin">右侧入</button>
    <button id="leftout">左侧出</button>
    <button id="rightout">右侧出</button>
    <button id="sort">排序</button>
  </div>

  <div class="array">
  </div>

<script type="text/javascript">
  var oin=document.getElementsByTagName('input')[0],
      oleftin=document.getElementById("leftin"),
      oleftout=document.getElementById("leftout"),
      orightin=document.getElementById('rightin'),
      orightout=document.getElementById('rightout'),
      oarray=document.getElementsByClassName('array')[0],
      osort=document.getElementById('sort');
  var arr=[];
  //渲染数组内容
  function arrayContent(){
      var s='';
      for(var i=0,len=arr.length;i<len;i++){
        s+='<div style="height:'+arr[i]*5+'px;">'+arr[i]+'</div>';
      }
      oarray.innerHTML=s;
    }

  function arrayLimit(){


  }
  //四个按钮函数
  function leftadd(){
    if(arr.length>=60){
      alert("超过60个请不要再传入数字");
    }
    else{
      if(oin.value<10||oin.value>100){
      alert("请输入10-100的数字");
      }
      else{
      arr.unshift(oin.value);
      arrayContent();
      }
    }

  }
  function leftremove(){

    alert(arr.shift());
    arrayContent();
  }
  function rightadd(){
    if(arr.length>=60){
      alert("超过60个请不要再传入数字");
    }
    else{
      if(oin.value<10||oin.value>100){
      alert("请输入10-100的数字");
      }
      else{
      arr.push(oin.value);
      arrayContent();
      }
    }

  }
  function rightremove(){
    alert(arr.pop());

  }

  //删除目标节点
  function del(target){

    target.parentNode.removeChild(target);
  }

  //排序
  function bubbleSort(){
    console.log(arr.length);
    var len=arr.length,i=0,j=0,timer;

    timer=setInterval(function(){
     //将for循环用if改写，对每一步进行再操作
     if(i==len){clearInterval(timer)}
     if(j==len-i-1){j=0;i++;}
     if(arr[j]>arr[j+1]){
          m=arr[j];
          arr[j]=arr[j+1];
          arr[j+1]=m;
          arrayContent();
        }
      j++;
    },500);

  }

  //加上相应方法
  function init(){
    oleftin.onclick=leftadd;
    oleftout.onclick=leftremove;
    orightin.onclick=rightadd;
    orightout.onclick=rightremove;
    oarray.onclick=function(event){
      var target=event.target;
      if(target){
        del(target);
      }
    }
    osort.onclick=bubbleSort;
  }
  init();

</script>
</body>
</html>
